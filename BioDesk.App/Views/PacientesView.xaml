<UserControl x:Class="BioDesk.App.Views.PacientesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="720" d:DesignWidth="1280"
             Background="#FAFBFC">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Header elegante -->
        <Border Grid.Row="0" 
                Background="White" 
                BorderBrush="#E1E5E9" 
                BorderThickness="0,0,0,1"
                Padding="40,20">
            <Border.Effect>
                <DropShadowEffect Color="#000000" Opacity="0.04" ShadowDepth="1" BlurRadius="8"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Título com ícone -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Border Background="#F1F5F9" 
                           CornerRadius="12" 
                           Width="48" Height="48" 
                           Margin="0,0,16,0">
                        <Path Data="M16,4C12.42,4 9.5,6.92 9.5,10.5C9.5,14.08 12.42,17 16,17C19.58,17 22.5,14.08 22.5,10.5C22.5,6.92 19.58,4 16,4M6,18C6.06,18 6.13,18 6.19,18L6.15,18C6.32,18 6.49,18.01 6.66,18.03C7.56,18.13 8.69,18.4 10,19.09C13.5,21 18.5,21 22,19.09C23.31,18.4 24.44,18.13 25.34,18.03C25.51,18.01 25.68,18 25.85,18L25.81,18C25.87,18 25.94,18 26,18H32L32,22H6V18Z"
                              Fill="#A4C3A2" 
                              Stretch="Uniform"
                              Width="24" Height="24"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center"/>
                    </Border>
                    
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Gestão de Pacientes"
                                  FontFamily="Segoe UI"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  Foreground="#1E293B"/>
                        <TextBlock Text="Registos clínicos completos e históricos"
                                  FontFamily="Segoe UI"
                                  FontSize="14"
                                  Foreground="#64748B"
                                  Margin="0,2,0,0"/>
                    </StackPanel>
                </StackPanel>
                
                <!-- Botão Voltar -->
                <Border Grid.Column="2" 
                       Background="#F1F5F9"
                       BorderBrush="#E1E5E9"
                       BorderThickness="1"
                       CornerRadius="8">
                    <Button Content="← Voltar"
                           Background="Transparent"
                           Foreground="#64748B"
                           FontFamily="Segoe UI"
                           FontSize="14"
                           FontWeight="Medium"
                           BorderThickness="0"
                           Padding="20,10"
                           Click="BackToHome_Click"/>
                </Border>
            </Grid>
        </Border>
        
        <!-- Barra de ferramentas -->
        <Border Grid.Row="1" 
                Background="White"
                Padding="40,20"
                BorderBrush="#E1E5E9"
                BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Barra de pesquisa -->
                <Border Grid.Column="0" 
                       Background="#F8FAFC"
                       BorderBrush="#E1E5E9"
                       BorderThickness="1"
                       CornerRadius="8"
                       Padding="12,10"
                       MaxWidth="400"
                       HorizontalAlignment="Left">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <Path Grid.Column="0"
                             Data="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"
                             Fill="#94A3B8"
                             Width="16" Height="16"
                             Margin="0,0,8,0"/>
                        
                        <TextBox Grid.Column="1"
                                Background="Transparent"
                                BorderThickness="0"
                                FontFamily="Segoe UI"
                                FontSize="14"
                                Foreground="#1E293B">
                            <TextBox.Style>
                                <Style TargetType="TextBox">
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="TextBox">
                                                <Grid>
                                                    <TextBlock Text="Pesquisar pacientes..." 
                                                              Foreground="#94A3B8"
                                                              FontFamily="Segoe UI"
                                                              FontSize="14"/>
                                                    <ScrollViewer x:Name="PART_ContentHost"/>
                                                </Grid>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </TextBox.Style>
                        </TextBox>
                    </Grid>
                </Border>
                
                <!-- Botões de ação -->
                <StackPanel Grid.Column="1" 
                           Orientation="Horizontal" 
                           Margin="20,0,0,0">
                    
                    <Border Background="#A4C3A2" CornerRadius="8" Margin="0,0,12,0">
                        <Button Content="+ Novo Paciente"
                               Background="Transparent"
                               Foreground="White"
                               FontFamily="Segoe UI"
                               FontSize="14"
                               FontWeight="Medium"
                               BorderThickness="0"
                               Padding="20,10"/>
                    </Border>
                    
                    <Border Background="#EF4444" CornerRadius="8">
                        <Button Content="🗑️ Eliminar"
                               Background="Transparent"
                               Foreground="White"
                               FontFamily="Segoe UI"
                               FontSize="14"
                               FontWeight="Medium"
                               BorderThickness="0"
                               Padding="20,10"/>
                    </Border>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- DataGrid com efeito zebra -->
        <Border Grid.Row="2" 
               Background="White"
               Margin="40,20,40,40"
               CornerRadius="12"
               BorderBrush="#E1E5E9"
               BorderThickness="1">
            <Border.Effect>
                <DropShadowEffect Color="#000000" Opacity="0.06" ShadowDepth="2" BlurRadius="12"/>
            </Border.Effect>
            
            <DataGrid x:Name="PacientesDataGrid"
                     AutoGenerateColumns="False"
                     CanUserAddRows="False"
                     CanUserDeleteRows="False"
                     CanUserReorderColumns="True"
                     CanUserResizeColumns="True"
                     CanUserSortColumns="True"
                     SelectionMode="Single"
                     GridLinesVisibility="None"
                     HeadersVisibility="Column"
                     AlternatingRowBackground="#F8FAFC"
                     RowBackground="White"
                     FontFamily="Segoe UI"
                     FontSize="13"
                     Margin="0">
                
                <!-- Event para duplo clique -->
                <DataGrid.InputBindings>
                    <MouseBinding MouseAction="LeftDoubleClick" 
                                 Command="{Binding EditarPacienteCommand}"/>
                </DataGrid.InputBindings>
                
                <!-- Estilo das linhas -->
                <DataGrid.RowStyle>
                    <Style TargetType="DataGridRow">
                        <Setter Property="Height" Value="48"/>
                        <Setter Property="BorderThickness" Value="0"/>
                        <Setter Property="Margin" Value="0"/>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#F1F5F9"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="#DBEAFE"/>
                                <Setter Property="BorderBrush" Value="#3B82F6"/>
                                <Setter Property="BorderThickness" Value="1"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </DataGrid.RowStyle>
                
                <!-- Estilo do header -->
                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#F8FAFC"/>
                        <Setter Property="Foreground" Value="#374151"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="FontSize" Value="13"/>
                        <Setter Property="Height" Value="44"/>
                        <Setter Property="Padding" Value="16,0"/>
                        <Setter Property="BorderBrush" Value="#E5E7EB"/>
                        <Setter Property="BorderThickness" Value="0,0,0,1"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>
                
                <!-- Colunas com dados de exemplo -->
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Width="80" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Padding" Value="16,0"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="Foreground" Value="#6B7280"/>
                                <Setter Property="FontWeight" Value="Medium"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    
                    <DataGridTextColumn Header="Nome Completo" Width="*" MinWidth="200" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Padding" Value="16,0"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="Foreground" Value="#111827"/>
                                <Setter Property="FontWeight" Value="Medium"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    
                    <DataGridTextColumn Header="Data Nascimento" Width="140" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Padding" Value="16,0"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="Foreground" Value="#6B7280"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    
                    <DataGridTextColumn Header="Telefone" Width="130" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Padding" Value="16,0"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="Foreground" Value="#6B7280"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    
                    <DataGridTextColumn Header="Email" Width="200" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Padding" Value="16,0"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="Foreground" Value="#6B7280"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    
                    <DataGridTextColumn Header="Última Consulta" Width="140" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="Padding" Value="16,0"/>
                                <Setter Property="VerticalAlignment" Value="Center"/>
                                <Setter Property="Foreground" Value="#6B7280"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </Grid>
</UserControl>