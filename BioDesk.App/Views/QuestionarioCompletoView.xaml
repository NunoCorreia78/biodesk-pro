<UserControl x:Class="BioDesk.App.Views.QuestionarioCompletoView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1200">
    
    <Grid Background="#fafafa">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="White" BorderBrush="#e5e7eb" BorderThickness="0,0,0,1" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock FontSize="22" FontWeight="Bold" Text="DeclaraÃ§Ã£o de SaÃºde &amp; Consentimentos"/>
                    <TextBlock FontSize="13" Foreground="#6b7280" Margin="0,4,0,0">
                        <Run Text="Paciente:"/>
                        <Run Text="{Binding NomePaciente, Mode=OneWay}" FontWeight="SemiBold"/>
                        <Run Text="â€¢ Data:"/>
                        <Run Text="{Binding DataPreenchimento, StringFormat=dd/MM/yyyy, Mode=OneWay}" FontWeight="SemiBold"/>
                    </TextBlock>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="ðŸ“ Novo QuestionÃ¡rio" 
                            Background="#4f7c6d" Foreground="White" 
                            BorderThickness="0" Padding="16,8" FontWeight="SemiBold"
                            Command="{Binding NovoQuestionarioCommand}"
                            Margin="0,0,10,0"/>
                    <Button Content="ðŸ“‚ Carregar Existente" 
                            Background="White" Foreground="#4f7c6d" 
                            BorderThickness="1" BorderBrush="#4f7c6d" Padding="16,8" FontWeight="SemiBold"
                            Command="{Binding CarregarQuestionarioCommand}"
                            Margin="0,0,10,0"/>
                    <Button Content="ðŸ–¨ï¸ Imprimir" 
                            Background="White" Foreground="#4f7c6d" 
                            BorderThickness="1" BorderBrush="#4f7c6d" Padding="16,8" FontWeight="SemiBold"
                            Command="{Binding ImprimirCommand}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- ConteÃºdo Principal -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel>
                
                <!-- SeÃ§Ã£o 1: InformaÃ§Ãµes MÃ©dicas Gerais -->
                <Expander IsExpanded="True" 
                         Background="White" 
                         BorderBrush="#E2E8F0" 
                         BorderThickness="1"
                         Margin="0,0,0,16">
                    <Expander.Header>
                        <TextBlock Text="ðŸ©º InformaÃ§Ãµes MÃ©dicas Gerais" 
                                  FontFamily="Segoe UI" 
                                  FontSize="16" 
                                  FontWeight="SemiBold"
                                  Foreground="#1E293B"
                                  Margin="16,12"/>
                    </Expander.Header>
                    <StackPanel Margin="24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,0,12,0">
                                <TextBlock Text="Tem alguma doenÃ§a crÃ³nica?" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_DoencaCronica"
                                        Text="{Binding DoencaCronica, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Grid.Row="0" Margin="12,0,0,0">
                                <TextBlock Text="Sintomas atuais" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_SintomasAtuais"
                                        Text="{Binding SintomasAtuais, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Margin="0,16,0,0">
                                <TextBlock Text="MedicaÃ§Ã£o atual" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_MedicacaoAtual"
                                        Text="{Binding MedicacaoAtual, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        AcceptsReturn="True"
                                        MinHeight="80"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Expander>

                <!-- SeÃ§Ã£o 2: Alergias -->
                <Expander Background="White" 
                         BorderBrush="#E2E8F0" 
                         BorderThickness="1"
                         Margin="0,0,0,16">
                    <Expander.Header>
                        <TextBlock Text="âš ï¸ Alergias e IntolerÃ¢ncias" 
                                  FontFamily="Segoe UI" 
                                  FontSize="16" 
                                  FontWeight="SemiBold"
                                  Foreground="#1E293B"
                                  Margin="16,12"/>
                    </Expander.Header>
                    <StackPanel Margin="24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,0,12,0">
                                <TextBlock Text="Alergias alimentares" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_AlergiasAlimentares"
                                        Text="{Binding AlergiasAlimentares, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Grid.Row="0" Margin="12,0,0,0">
                                <TextBlock Text="Alergias a medicamentos" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_AlergiasMedicamentos"
                                        Text="{Binding AlergiasMedicamentos, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="0" Grid.Row="1" Margin="0,16,12,0">
                                <TextBlock Text="Alergias ambientais" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_AlergiasAmbientais"
                                        Text="{Binding AlergiasAmbientais, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Grid.Row="1" Margin="12,16,0,0">
                                <TextBlock Text="Outras alergias" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_OutrasAlergias"
                                        Text="{Binding OutrasAlergias, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Expander>

                <!-- SeÃ§Ã£o 3: HistÃ³rico MÃ©dico -->
                <Expander Background="White" 
                         BorderBrush="#E2E8F0" 
                         BorderThickness="1"
                         Margin="0,0,0,16">
                    <Expander.Header>
                        <TextBlock Text="ðŸ¥ HistÃ³rico MÃ©dico" 
                                  FontFamily="Segoe UI" 
                                  FontSize="16" 
                                  FontWeight="SemiBold"
                                  Foreground="#1E293B"
                                  Margin="16,12"/>
                    </Expander.Header>
                    <StackPanel Margin="24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0" Margin="0,0,12,0">
                                <TextBlock Text="Cirurgias realizadas" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_HistoricoCirurgico"
                                        Text="{Binding HistoricoCirurgico, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        AcceptsReturn="True"
                                        MinHeight="80"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Margin="12,0,0,0">
                                <TextBlock Text="Fraturas e lesÃµes" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_Fraturas"
                                        Text="{Binding Fraturas, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        AcceptsReturn="True"
                                        MinHeight="80"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Expander>

                <!-- SeÃ§Ã£o 3.5: Sistemas Corporais Detalhados -->
                <Expander Background="White" 
                         BorderBrush="#E2E8F0" 
                         BorderThickness="1"
                         Margin="0,0,0,16">
                    <Expander.Header>
                        <TextBlock Text="ðŸ¥ Sistemas Corporais - CondiÃ§Ãµes EspecÃ­ficas" 
                                  FontFamily="Segoe UI" 
                                  FontSize="16" 
                                  FontWeight="SemiBold"
                                  Foreground="#1E293B"
                                  Margin="16,12"/>
                    </Expander.Header>
                    <StackPanel Margin="24">
                        <!-- 1. Sistema Cardiovascular -->
                        <GroupBox Header="ðŸ«€ Sistema Cardiovascular" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="HipertensÃ£o" IsChecked="{Binding CardioHipertensao, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Diabetes Tipo 1" IsChecked="{Binding CardioDiabetesTipo1, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Diabetes Tipo 2" IsChecked="{Binding CardioDiabetesTipo2, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Arritmia" IsChecked="{Binding CardioArritmia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Colesterol Alto" IsChecked="{Binding CardioColesterolAlto, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="InsuficiÃªncia CardÃ­aca" IsChecked="{Binding CardioInsuficienciaCardiaca, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Angina" IsChecked="{Binding CardioAngina, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding CardioOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema cardiovascular..." 
                                         Text="{Binding CardioOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding CardioOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 2. Sistema MusculoesquelÃ©tico -->
                        <GroupBox Header="ðŸ¦´ Sistema MusculoesquelÃ©tico" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Artrose" IsChecked="{Binding MusculoArtrose, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Tendinite" IsChecked="{Binding MusculoTendinite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="HÃ©rnia Discal" IsChecked="{Binding MusculoHerniaDiscal, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Fibromialgia" IsChecked="{Binding MusculoFibromialgia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Artrite" IsChecked="{Binding MusculoArtrite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Bursite" IsChecked="{Binding MusculoBursite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Lombalgia" IsChecked="{Binding MusculoLombalgia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Cervicalgia" IsChecked="{Binding MusculoCervicalgia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding MusculoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema musculoesquelÃ©tico..." 
                                         Text="{Binding MusculoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding MusculoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 3. Sistema RespiratÃ³rio -->
                        <GroupBox Header="ðŸ« Sistema RespiratÃ³rio" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Asma" IsChecked="{Binding RespiratorioAsma, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Sinusite CrÃ³nica" IsChecked="{Binding RespiratorioSinusiteCronica, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Bronquite" IsChecked="{Binding RespiratorioBronquite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Rinite AlÃ©rgica" IsChecked="{Binding RespiratorioRiniteAlergica, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Apneia do Sono" IsChecked="{Binding RespiratorioApneiaSono, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding RespiratorioOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema respiratÃ³rio..." 
                                         Text="{Binding RespiratorioOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding RespiratorioOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 4. Sistema Digestivo -->
                        <GroupBox Header="ðŸƒ Sistema Digestivo" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Gastrite" IsChecked="{Binding DigestivoGastrite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Refluxo" IsChecked="{Binding DigestivoRefluxo, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="SÃ­ndrome Intestino IrritÃ¡vel" IsChecked="{Binding DigestivoSII, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="IntolerÃ¢ncia Lactose" IsChecked="{Binding DigestivoIntoleranciaLactose, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="DoenÃ§a de Crohn" IsChecked="{Binding DigestivoDoencaCrohn, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Colite Ulcerosa" IsChecked="{Binding DigestivoColiteUlcerosa, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="ObstipaÃ§Ã£o" IsChecked="{Binding DigestivoConstipacao, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding DigestivoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema digestivo..." 
                                         Text="{Binding DigestivoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding DigestivoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 5. Sistema NeurolÃ³gico -->
                        <GroupBox Header="ðŸ§  Sistema NeurolÃ³gico" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Enxaquecas" IsChecked="{Binding NeurologicoEnxaquecas, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Ansiedade" IsChecked="{Binding NeurologicoAnsiedade, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="DepressÃ£o" IsChecked="{Binding NeurologicoDepressao, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="InsÃ³nia" IsChecked="{Binding NeurologicoInsonia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Epilepsia" IsChecked="{Binding NeurologicoEpilepsia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Vertigens/Tonturas" IsChecked="{Binding NeurologicoVertigensTonturas, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding NeurologicoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema neurolÃ³gico..." 
                                         Text="{Binding NeurologicoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding NeurologicoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 6. Sistema EndÃ³crino -->
                        <GroupBox Header="ðŸ¦‹ Sistema EndÃ³crino" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Hipotiroidismo" IsChecked="{Binding EndocrinoHipotiroidismo, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Hipertiroidismo" IsChecked="{Binding EndocrinoHipertiroidismo, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="PCOS" IsChecked="{Binding EndocrinoPCOS, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="ResistÃªncia Ã  Insulina" IsChecked="{Binding EndocrinoResistenciaInsulina, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Menopausa" IsChecked="{Binding EndocrinoMenopausa, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding EndocrinoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema endÃ³crino..." 
                                         Text="{Binding EndocrinoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding EndocrinoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 7. Sistema Renal/GeniturinÃ¡rio -->
                        <GroupBox Header="ðŸ”„ Sistema Renal/GeniturinÃ¡rio" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="InfeÃ§Ã£o UrinÃ¡ria" IsChecked="{Binding RenalInfecaoUrinaria, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="CÃ¡lculos Renais" IsChecked="{Binding RenalCalculosRenais, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Cistite" IsChecked="{Binding RenalCistite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="IncontinÃªncia" IsChecked="{Binding RenalIncontinencia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding RenalOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema renal/geniturinÃ¡rio..." 
                                         Text="{Binding RenalOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding RenalOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 8. Sistema Pele/DermatolÃ³gico -->
                        <GroupBox Header="ðŸŒŸ Sistema Pele/DermatolÃ³gico" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Eczema" IsChecked="{Binding PeleEczema, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="PsorÃ­ase" IsChecked="{Binding PelePsoriase, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Dermatite" IsChecked="{Binding PeleDermatite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Alergias CutÃ¢neas" IsChecked="{Binding PeleAlergiasCutaneas, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Acne" IsChecked="{Binding PeleAcne, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding PeleOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema de pele..." 
                                         Text="{Binding PeleOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding PeleOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 9. Sistema OftalmolÃ³gico -->
                        <GroupBox Header="ðŸ‘ï¸ Sistema OftalmolÃ³gico" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Miopia" IsChecked="{Binding OftalmologicoMiopia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Hipermetropia" IsChecked="{Binding OftalmologicoHipermetropia, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Astigmatismo" IsChecked="{Binding OftalmologicoAstigmatismo, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Glaucoma" IsChecked="{Binding OftalmologicoGlaucoma, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Catarata" IsChecked="{Binding OftalmologicoCatarata, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Conjuntivite" IsChecked="{Binding OftalmologicoConjuntivite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding OftalmologicoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema oftalmolÃ³gico..." 
                                         Text="{Binding OftalmologicoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding OftalmologicoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 10. Sistema Auditivo/Otorrino -->
                        <GroupBox Header="ðŸ‘‚ Sistema Auditivo/Otorrino" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Perdas Auditivas" IsChecked="{Binding AuditivoPerdasAuditivas, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Zumbido no Ouvido" IsChecked="{Binding AuditivoZumbidoOuvido, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Otites Recorrentes" IsChecked="{Binding AuditivoOtitesRecorrentes, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Labirintite" IsChecked="{Binding AuditivoLabirintite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Sinusite" IsChecked="{Binding AuditivoSinusite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding AuditivoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema auditivo/otorrino..." 
                                         Text="{Binding AuditivoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding AuditivoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 11. Sistema SaÃºde Oral -->
                        <GroupBox Header="ðŸ¦· Sistema SaÃºde Oral" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="CÃ¡ries" IsChecked="{Binding SaudeOralCaries, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Gengivite" IsChecked="{Binding SaudeOralGengivite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Periodontite" IsChecked="{Binding SaudeOralPeriodontite, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Bruxismo" IsChecked="{Binding SaudeOralBruxismo, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Sensibilidade DentÃ¡ria" IsChecked="{Binding SaudeOralSensibilidadeDentaria, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Mau HÃ¡lito" IsChecked="{Binding SaudeOralMauHalito, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding SaudeOralOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema de saÃºde oral..." 
                                         Text="{Binding SaudeOralOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding SaudeOralOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 12. Sistema GinecolÃ³gico/Reprodutivo Adicional -->
                        <GroupBox Header="â™€ï¸ Sistema GinecolÃ³gico/Reprodutivo" Margin="0,0,0,16" 
                                 BorderBrush="#E2E8F0" BorderThickness="1">
                            <StackPanel Margin="12">
                                <WrapPanel>
                                    <CheckBox Content="Endometriose" IsChecked="{Binding GinecologicoEndometriose, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="SÃ­ndrome OvÃ¡rios PoliquÃ­sticos" IsChecked="{Binding GinecologicoSOP, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Miomas" IsChecked="{Binding GinecologicoMiomas, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Ciclos Irregulares" IsChecked="{Binding GinecologicoCiclosIrregulares, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="InfeÃ§Ã£o UrinÃ¡ria Recorrente" IsChecked="{Binding GinecologicoInfecaoUrinaria, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                    <CheckBox Content="Outro" IsChecked="{Binding GinecologicoOutro, UpdateSourceTrigger=PropertyChanged}" Margin="0,0,15,5"/>
                                </WrapPanel>
                                <TextBox PlaceholderText="Especificar outro problema ginecolÃ³gico..." 
                                         Text="{Binding GinecologicoOutroDescricao, UpdateSourceTrigger=PropertyChanged}" 
                                         IsEnabled="{Binding GinecologicoOutro}" 
                                         Background="White" BorderBrush="#D1D5DB" BorderThickness="1"
                                         Padding="8,6" FontSize="13" Margin="0,8,0,0"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </Expander>

                <!-- SeÃ§Ã£o 4: Estilo de Vida -->
                <Expander Background="White" 
                         BorderBrush="#E2E8F0" 
                         BorderThickness="1"
                         Margin="0,0,0,16">
                    <Expander.Header>
                        <TextBlock Text="ðŸŒ¿ Estilo de Vida" 
                                  FontFamily="Segoe UI" 
                                  FontSize="16" 
                                  FontWeight="SemiBold"
                                  Foreground="#1E293B"
                                  Margin="16,12"/>
                    </Expander.Header>
                    <StackPanel Margin="24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,0,8,0">
                                <TextBlock Text="ExercÃ­cio fÃ­sico" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <ComboBox Name="cb_AtividadeFisica"
                                         Text="{Binding AtividadeFisica, UpdateSourceTrigger=PropertyChanged}"
                                         IsEditable="True"
                                         BorderBrush="#D1D5DB"
                                         BorderThickness="1"
                                         Padding="12,8"
                                         FontSize="14"
                                         Margin="0,4,0,0">
                                    <ComboBoxItem Content="SedentÃ¡rio"/>
                                    <ComboBoxItem Content="Leve (1-2x semana)"/>
                                    <ComboBoxItem Content="Moderado (3-4x semana)"/>
                                    <ComboBoxItem Content="Intenso (5+ x semana)"/>
                                </ComboBox>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="1" Grid.Row="0" Margin="8,0,8,0">
                                <TextBlock Text="Tabagismo" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <ComboBox Name="cb_Tabagismo"
                                         Text="{Binding Tabagismo, UpdateSourceTrigger=PropertyChanged}"
                                         IsEditable="True"
                                         BorderBrush="#D1D5DB"
                                         BorderThickness="1"
                                         Padding="12,8"
                                         FontSize="14"
                                         Margin="0,4,0,0">
                                    <ComboBoxItem Content="Nunca fumou"/>
                                    <ComboBoxItem Content="Ex-fumador"/>
                                    <ComboBoxItem Content="Fumador ocasional"/>
                                    <ComboBoxItem Content="Fumador regular"/>
                                </ComboBox>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2" Grid.Row="0" Margin="8,0,0,0">
                                <TextBlock Text="Consumo de Ã¡lcool" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <ComboBox Name="cb_ConsumoAlcool"
                                         Text="{Binding ConsumoAlcool, UpdateSourceTrigger=PropertyChanged}"
                                         IsEditable="True"
                                         BorderBrush="#D1D5DB"
                                         BorderThickness="1"
                                         Padding="12,8"
                                         FontSize="14"
                                         Margin="0,4,0,0">
                                    <ComboBoxItem Content="NÃ£o consome"/>
                                    <ComboBoxItem Content="Ocasional"/>
                                    <ComboBoxItem Content="Social"/>
                                    <ComboBoxItem Content="Regular"/>
                                </ComboBox>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="3" Margin="0,16,0,0">
                                <TextBlock Text="HÃ¡bitos alimentares" 
                                          FontFamily="Segoe UI" 
                                          FontSize="14" 
                                          FontWeight="Medium"
                                          Foreground="#374151"/>
                                <TextBox Name="txt_HabitosAlimentares"
                                        Text="{Binding HabitosAlimentares, UpdateSourceTrigger=PropertyChanged}"
                                        Background="White" 
                                        BorderBrush="#D1D5DB"
                                        BorderThickness="1"
                                        Padding="12,8"
                                        FontSize="14"
                                        AcceptsReturn="True"
                                        MinHeight="60"
                                        Margin="0,4,0,0"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Expander>

            </StackPanel>
        </ScrollViewer>

        <!-- Footer com aÃ§Ãµes -->
        <Border Grid.Row="2" Background="White" BorderBrush="#e5e7eb" BorderThickness="0,1,0,0" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="ðŸ’¾ Sistema em desenvolvimento" 
                             Foreground="#6b7280" 
                             FontSize="12" 
                             VerticalAlignment="Center" 
                             Margin="0,0,16,0"/>
                    <TextBlock Text="{Binding UltimoAutoSave, StringFormat='VersÃ£o: {0:dd/MM/yyyy}'}" 
                             Foreground="#6b7280" 
                             FontSize="12" 
                             VerticalAlignment="Center"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="ðŸ’¾ Guardar" 
                            Background="#4f7c6d" Foreground="White" 
                            BorderThickness="0" Padding="16,8" FontWeight="SemiBold"
                            Command="{Binding GuardarCommand}"
                            Click="TestButton_Click"
                            Margin="0,0,10,0"/>
                    <Button Content="ðŸ“„ Exportar PDF" 
                            Background="White" Foreground="#4f7c6d" 
                            BorderThickness="1" BorderBrush="#4f7c6d" Padding="16,8" FontWeight="SemiBold"
                            Command="{Binding ExportarPdfCommand}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>